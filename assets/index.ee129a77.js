import{d as S,r as f,w as A,o as p,c as g,F as w,a as M,n as $,b as V,u as C,e as z,f as d,g as v,h as q,v as H,i as h,t as I,j,k as U,l as m,R as Y,m as G,p as Q,q as W,s as x,x as X,A as Z}from"./vendor.c59db9ce.js";const E=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}};E();var ee="/catan-dice/assets/logo.da9b9095.svg";var O=(s,r)=>{const a=s.__vccOpts||s;for(const[n,e]of r)a[n]=e;return a};const te=S({props:{diceNumber:null,specialDice:{type:Boolean}},setup(s){const r=s,a=f(0);return A(()=>r.diceNumber,n=>{if(n===0){a.value=n;return}const e=Math.floor(Math.random()*(6-1)+1);a.value=e;const t=setInterval(()=>{a.value===6&&(a.value=1),a.value++},200);setTimeout(()=>{clearInterval(t),a.value=n},800)}),(n,e)=>(p(),g("div",{class:$([s.specialDice&&"red","face"])},[(p(!0),g(w,null,M(a.value,t=>(p(),g("span",{class:"pip",key:t}))),128))],2))}});var k=O(te,[["__scopeId","data-v-6bdb7420"]]),ae="/catan-dice/assets/default.3038fed7.svg",se="/catan-dice/assets/dice_event_barbarian.66821b44.svg",ne="/catan-dice/assets/dice_event_politics.c87195a7.svg",re="/catan-dice/assets/dice_event_science.5153060e.svg",oe="/catan-dice/assets/dice_event_trade.afd12022.svg",o=(s=>(s[s.Barbarians=0]="Barbarians",s[s.Politics=1]="Politics",s[s.Trade=2]="Trade",s[s.Science=3]="Science",s[s.Default=4]="Default",s))(o||{});const le=["src"],ce=S({props:{eventToShow:null},setup(s){const r=s,a=f(o.Default),n=V(()=>{switch(a.value){case o.Barbarians:return se;case o.Politics:return ne;case o.Trade:return oe;case o.Science:return re;default:return ae}});return A(()=>r.eventToShow,e=>{if(e===o.Default){a.value=e;return}const t=Math.floor(Math.random()*(3-1)+0);a.value=t;const l=setInterval(()=>{a.value===3&&(a.value=0),a.value++},200);setTimeout(()=>{clearInterval(l),a.value=e},800)}),(e,t)=>(p(),g("img",{src:C(n),class:"face"},null,8,le))}});var ie=O(ce,[["__scopeId","data-v-564d0b57"]]);const ue=s=>(Q("data-v-f339bf1e"),s=s(),W(),s),de={class:"row"},fe={class:"row"},ve=G("Roll "),_e={class:"footer"},pe={class:"counters"},ge=ue(()=>d("div",{style:{"margin-right":"16px"}},"Cities and Knights",-1)),he=S({setup(s){const r=f([0,0]),a=f(0),n=f([]),e=f(!1),t=f(o.Default);function l(c){const i=JSON.parse(JSON.stringify(c)),u=x(i);n.value=u}const y=[[1,1],[1,2],[2,1],[1,3],[2,2],[3,1],[1,4],[2,3],[3,2],[4,1],[1,5],[2,4],[3,3],[4,2],[5,1],[1,6],[2,5],[3,4],[4,3],[5,2],[6,1],[2,6],[3,5],[4,4],[5,3],[6,2],[3,6],[4,5],[5,4],[6,3],[4,6],[5,5],[6,4],[5,6],[6,5],[6,6]],b=[o.Barbarians,o.Barbarians,o.Barbarians,o.Politics,o.Trade,o.Science],_=f([]);function N(c){const i=JSON.parse(JSON.stringify(c)),u=x(i);_.value=u}async function J(){n.value.length===0&&l(y),_.value.length===0&&N(b),r.value=[0,0],t.value=o.Default,await j(()=>{a.value++;const c=n.value.pop(),i=_.value.pop();localStorage.setItem("lastNumberPair",JSON.stringify(c)),localStorage.setItem("lastEvent",JSON.stringify(i)),r.value=c,t.value=i,localStorage.setItem("shuffledArray",JSON.stringify(n.value)),localStorage.setItem("shuffledEvents",JSON.stringify(_.value)),localStorage.setItem("clicks",JSON.stringify(a.value))})}function D(){l(y),N(b),r.value=[0,0],t.value=o.Default,a.value=0,localStorage.clear(),T()}const T=()=>{U.success({message:"Dice reset successfuly",description:"Dice numbers are reset and reshuffled"})};A(()=>e.value,c=>{localStorage.setItem("citiesAndKnights",JSON.stringify(c))});function L(){const c=localStorage.getItem("shuffledArray");c&&(n.value=JSON.parse(c));const i=localStorage.getItem("clicks");i&&(a.value=JSON.parse(i));const u=localStorage.getItem("lastNumberPair");u&&(r.value=JSON.parse(u)),n.value.length===0&&l(y)}function P(){const c=localStorage.getItem("citiesAndKnights");c&&(e.value=JSON.parse(c));const i=localStorage.getItem("shuffledEvents");i&&(_.value=JSON.parse(i));const u=localStorage.getItem("lastEvent");u&&(t.value=JSON.parse(u)),_.value.length===0&&N(b)}return z(()=>{L(),P()}),(c,i)=>{const u=m("a-button"),B=m("a-popconfirm"),R=m("a-switch"),F=m("a-row");return p(),g(w,null,[d("div",de,[v(k,{"dice-number":r.value[0],"special-dice":e.value},null,8,["dice-number","special-dice"]),v(k,{"dice-number":r.value[1]},null,8,["dice-number"]),q(v(ie,{"event-to-show":t.value},null,8,["event-to-show"]),[[H,e.value]])]),d("div",fe,[v(u,{class:"button",type:"primary",shape:"round",size:"large",onClick:J},{default:h(()=>[ve]),_:1})]),d("div",_e,[d("div",null,[d("div",pe,[d("h4",null,"Numbers left: "+I(n.value.length),1),d("h4",null,"Times Rolled: "+I(a.value),1),d("h4",null,"Current Number: "+I(r.value[0]+r.value[1]),1)])]),v(B,{title:"Are you sure you want to reset dice stack\uFF1F","ok-text":"Yes","cancel-text":"No",placement:"topRight",onConfirm:D},{default:h(()=>[v(u,{type:"danger",shape:"circle",size:"large"},{icon:h(()=>[v(C(Y))]),_:1})]),_:1})]),v(F,null,{default:h(()=>[ge,v(R,{checked:e.value,"onUpdate:checked":i[0]||(i[0]=K=>e.value=K)},null,8,["checked"])]),_:1})],64)}}});var me=O(he,[["__scopeId","data-v-f339bf1e"]]);const Se={class:"body"},ye=d("div",{class:"header"},[d("img",{alt:"Vue logo",class:"logo",src:ee,width:"50",height:"50"}),d("h2",{class:"title"},"Catan Dice Roller")],-1),be=S({setup(s){const r=f(0),a=f(0),n=f(0);return(e,t)=>(p(),g("div",Se,[ye,v(me,{onNumbersLeft:t[0]||(t[0]=l=>r.value=l),onClickCouter:t[1]||(t[1]=l=>a.value=l),onCurrentNumber:t[2]||(t[2]=l=>n.value=l)})]))}});X(be).use(Z).mount("#app");
