import{d as y,r as u,w as C,o as _,c as p,F as S,a as I,b as w,e as c,f,g,t as h,n as D,h as L,i as b,u as J,R as M,j as R,k as T,A as F}from"./vendor.772ad762.js";const $=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}};$();var H="/catan-dice/assets/logo.da9b9095.svg";var k=(d,r)=>{const o=d.__vccOpts||d;for(const[s,e]of r)o[s]=e;return o};const V={class:"face"},B=y({props:{diceNumber:null},setup(d){const r=d,o=u(0);return C(()=>r.diceNumber,s=>{if(s===0){o.value=s;return}const e=Math.floor(Math.random()*(6-1)+1);o.value=e;const t=setInterval(()=>{o.value===6&&(o.value=1),o.value++},200);setTimeout(()=>{clearInterval(t),o.value=s},800)}),(s,e)=>(_(),p("div",V,[(_(!0),p(S,null,I(o.value,t=>(_(),p("span",{class:"pip",key:t}))),128))]))}});var N=k(B,[["__scopeId","data-v-26ddd172"]]);const j={class:"row"},z={class:"row"},E=R("Roll "),P={class:"footer"},q={class:"counters"},K=y({setup(d){const r=u(0),o=u(0),s=u(0),e=u([]);function t(n){const i=JSON.parse(JSON.stringify(n));for(let l=i.length-1;l>0;l--){const v=Math.floor(Math.random()*(l+1));[i[l],i[v]]=[i[v],i[l]]}e.value=i}const a=[2,3,3,4,4,4,5,5,5,5,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8,8,9,9,9,9,10,10,10,11,11,12];async function x(){e.value.length===0&&t(a),r.value=0,o.value=0,await D(()=>{s.value++;const n=e.value.pop();localStorage.setItem("lastNumber",JSON.stringify(n)),m(n),localStorage.setItem("shuffledArray",JSON.stringify(e.value)),localStorage.setItem("clicks",JSON.stringify(s.value))})}function m(n){n%2===0?(r.value=n/2,o.value=n/2):(r.value=Math.round(n/2),o.value=Math.floor(n/2))}function O(){t(a),s.value=0,m(0),localStorage.clear(),A()}const A=()=>{L.success({message:"Dice reset successfuly",description:"Dice numbers are reset and reshuffled"})};return w(()=>{const n=localStorage.getItem("shuffledArray");n&&(e.value=JSON.parse(n));const i=localStorage.getItem("clicks");i&&(s.value=JSON.parse(i));const l=localStorage.getItem("lastNumber");l&&m(JSON.parse(l)),e.value.length===0&&(console.log("HITH"),t(a))}),(n,i)=>{const l=b("a-button"),v=b("a-popconfirm");return _(),p(S,null,[c("div",j,[f(N,{"dice-number":r.value},null,8,["dice-number"]),f(N,{"dice-number":o.value},null,8,["dice-number"])]),c("div",z,[f(l,{class:"button",type:"primary",shape:"round",size:"large",onClick:x},{default:g(()=>[E]),_:1})]),c("div",P,[c("div",null,[c("div",q,[c("h4",null,"Numbers left: "+h(e.value.length),1),c("h4",null,"Times Rolled: "+h(s.value),1),c("h4",null,"Current Number: "+h(r.value+o.value),1)])]),f(v,{title:"Are you sure you want to reset dice stack\uFF1F","ok-text":"Yes","cancel-text":"No",placement:"topRight",onConfirm:O},{default:g(()=>[f(l,{type:"danger",shape:"circle",size:"large"},{icon:g(()=>[f(J(M))]),_:1})]),_:1})])],64)}}});var Y=k(K,[["__scopeId","data-v-0548688b"]]);const G={class:"body"},Q=c("div",{class:"header"},[c("img",{alt:"Vue logo",class:"logo",src:H,width:"50",height:"50"}),c("h2",{class:"title"},"Catan Dice Roller")],-1),U=y({setup(d){const r=u(0),o=u(0),s=u(0);return(e,t)=>(_(),p("div",G,[Q,f(Y,{onNumbersLeft:t[0]||(t[0]=a=>r.value=a),onClickCouter:t[1]||(t[1]=a=>o.value=a),onCurrentNumber:t[2]||(t[2]=a=>s.value=a)})]))}});T(U).use(F).mount("#app");
